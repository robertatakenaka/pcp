<?xml version="1.0" encoding="UTF-8"?><xsl:stylesheet version="1.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:fo="http://www.w3.org/1999/XSL/Format" >	<!--		Genericos	-->	<xsl:output indent="no" method="text" />	<xsl:template match="*">[<xsl:value-of select="name()"/>]<xsl:apply-templates/>[/<xsl:value-of select="name()"/>]</xsl:template>	<!--		Unknown	-->	<xsl:template match="unknown"><xsl:value-of select="."/></xsl:template>	<!--		Reference list	-->	<xsl:template match="insert-main-tag"/>	<xsl:template match="ref-list"><xsl:if test="insert-main-tag">[vancouv standard=vancouv count=<xsl:value-of select="count(.//ref)"/>]</xsl:if>	<xsl:apply-templates/>	<xsl:if test="insert-main-tag">[/vancouv]</xsl:if></xsl:template>	<!--		Reference 	-->	<xsl:template match="ref">[vcitat]<xsl:apply-templates select="@*|*|text()"/>[/vcitat]</xsl:template>	<!--		Label	-->	<xsl:template match="ref/label|*/label">[no]<xsl:apply-templates/>[/no].</xsl:template>	<xsl:template match="ref[not(label)]/@id">[no]<xsl:value-of select="substring-after(.,'R')"/>[/no].</xsl:template>	<!--		Citation	-->	<xsl:template match="citatio|nlm-citation"><xsl:apply-templates/></xsl:template>	<!--		Citation Journal	-->	<xsl:template match="*[@citation-type='journal']">[vcontrib]<xsl:apply-templates select="person-group | collab"/><xsl:apply-templates select="article-title"/>[/vcontrib][viserial]<xsl:apply-templates select="*[name()!='person-group' and name()!='collab' and name()!='article-title']"/>[/viserial]</xsl:template>	<!--		Citation Book	-->	<xsl:template match="*[@citation-type='book']">[vmonog]<xsl:apply-templates/>[/vmonog]</xsl:template>	<!--		AUTHORS		-->		<xsl:template match="person-group">		<xsl:variable name="role">			<xsl:choose>				<xsl:when test="@person-group-type='editor'">ed</xsl:when>				<xsl:when test="@person-group-type='translator'">tr</xsl:when>				<xsl:when test="@person-group-type='author'">nd</xsl:when>				<xsl:otherwise>nd</xsl:otherwise>			</xsl:choose>		</xsl:variable>		<xsl:apply-templates>			<xsl:with-param name="role" select="$role"/>		</xsl:apply-templates>	</xsl:template>	<xsl:template match="name"><xsl:param name="role"/>[author role=<xsl:value-of select="$role"/>]<xsl:apply-templates/>[/author]</xsl:template>	<xsl:template match="given-names">[fname]<xsl:apply-templates/>[/fname]</xsl:template>	<!--		CORPORATIVE AUTHORS		-->	<xsl:template match="collab">[corpauth][orgname]<xsl:apply-templates/>[/orgname][/corpauth]</xsl:template>		<!--		TITLE		-->	<xsl:template match="*[@citation-type='journal']/source">[vstitle][stitle]<xsl:apply-templates/>[/stitle][/vstitle]</xsl:template>	<xsl:template match="article-title | *[@citation-type='book']/source">[vtitle][title language=<xsl:apply-templates select="." mode="language"/>]<xsl:apply-templates/>[/title][/vtitle]</xsl:template>	<!-- 		DATE	-->	<xsl:template match="year">[date dateiso=<xsl:value-of select="."/><xsl:apply-templates select="../month"/><xsl:apply-templates select="../day"/>]<xsl:apply-templates select="../node()" mode="pub-date"/>[/date]</xsl:template>	<xsl:template match="*" mode="pub-date"></xsl:template>	<xsl:template match="month|day"></xsl:template>	<xsl:template match="year|month|day" mode="pub-date"> <xsl:apply-templates/> </xsl:template>	<xsl:template match="*[year|month|day]" mode="pub-date"><xsl:apply-templates select="year|month|day"/></xsl:template>	<!-- 		CITY	-->	<xsl:template match="publisher-loc">[city]<xsl:apply-templates/>[/city]</xsl:template>	<!-- 		pubname	-->	<xsl:template match="publisher-name">[pubname]<xsl:apply-templates/>[/pubname]</xsl:template>	<!-- 		volid	-->	<xsl:template match="volume">[volid]<xsl:apply-templates/>[/volid]</xsl:template>	<!-- 		issueno	-->	<xsl:template match="issue">[issueno]<xsl:apply-templates/>[/issueno]</xsl:template>	<!-- 		suppl	-->	<xsl:template match="supplement">[suppl]<xsl:apply-templates/>[/suppl]</xsl:template>	<!-- 		pages	-->	<xsl:template match="lpage"/><xsl:template match="fpage">[pages]<xsl:value-of select="."/><xsl:if test="../lpage">-<xsl:value-of select="../lpage"/></xsl:if>[/pages]</xsl:template>	<xsl:template match="page-range">[pages]<xsl:apply-templates/>[/pages]</xsl:template>	<!-- 		pmid, doi	-->	<xsl:template match="pub-id">[<xsl:value-of select="@pub-id-type"/>]<xsl:apply-templates/>[/<xsl:value-of select="@pub-id-type"/>]</xsl:template>	<!-- 		LANGUAGE			-->	<xsl:template match="*" mode="language">		<xsl:choose>			<xsl:when test="@xml:lang"><xsl:value-of select="@xml:lang"/></xsl:when>			<xsl:otherwise>				<xsl:choose>					<xsl:when test="contains(.,' the ') or contains(.,' of ')">en</xsl:when>					<xsl:when test="contains(.,'ã') or contains(.,'õ')">pt</xsl:when>					<xsl:when test="contains(.,'ñ')">es</xsl:when>				</xsl:choose>			</xsl:otherwise>		</xsl:choose>	</xsl:template>	<xsl:template match="annotation"/></xsl:stylesheet>